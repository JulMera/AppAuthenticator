{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    TranslateModule\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { MenuPage } from '../menu/menu';\nimport { Storage } from '@ionic/storage';\nimport { TranslateService } from '@ngx-translate/core';\nimport { HttpProvider } from '../../providers/http/http';\nimport { UtilsProvider } from '../../providers/utils/utils';\nimport { AlertController } from 'ionic-angular';\n\n\n//import * as CryptoJS from 'crypto-js';\n\n\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  public usuario: string;\n  public pass: string;\n  public message: string;\n  public errorUsu;\n  public errorPas;\n  private lang: string = \"en_us\";\n  private datos: Array<string[]>;\n  idioms: any[] = [];\n  nome = '';\n  public contadorIntentos: number = 0;\n  private isBtnEnabled:boolean = true;\n\n  \n  //para encriptar password\n  //private CryptoJS: any =  require('crypto-js');\n  private SECERET_KEY: string = 'e2eworks';\n  //require: any;\n  \n  constructor(public navCtrl: NavController, public navParams: NavParams, private translateService: TranslateService,\n    private storage: Storage, public http: HttpProvider, public utils: UtilsProvider, private alertCtrl: AlertController) {\n      \n     // this.cryptoJS = this.require(\"crypto-js\");\n    this.idioms = [\n      {\n        value: 'es_co',\n        label: 'Espa単ol',\n      },\n      {\n        value: 'en_us',\n        label: 'English'\n      }\n    ];\n    this.storage.set('lenguaje',this.translateService.getDefaultLang());\n    \n    this.lang = this.utils.getLanguage();\n    \n    this.utils.clearVariableSesion();\n    this.storage.remove('procesoOTP');\n    this.storage.clear();\n\n  }\n\n  choose(lang) {\n    this.translateService.use(lang);   \n    this.storage.set('lenguaje', lang);\n    this.lang = lang;\n  }\n\n  ionViewDidLoad() {\n    this.storage.get('lenguaje').then((val) =>    { if(val != null ){ this.lang = val; } });\n  }\n\n  login() {\n    \n    \n  \n    this.isBtnEnabled=false;\n  \n    if (this.usuario == null && this.pass == null) {\n      //alert(\"{{ 'Login.alertUser' | translate }}\");\n      //alert(\"Debe ingresar la contrase単a\");\n      this.presentAlert();\n      this.isBtnEnabled=true;\n    }\n    else {\n      this.lenguague();      \n      this.validateUser();\n      \n      //this.navCtrl.push('MenuPage');\n      //this.storage.set('name', this.usuario);\n\n\n    }\n\n  }\n\n  ws() {\n    this.navCtrl.push('Tab1Page');\n  }\n\n  rootTest() {\n    this.navCtrl.push('RootPage');\n  }\n\n  lenguague(){\n     this.storage.get('lenguaje').then((val) => {       \n      this.lang = val;        \n     });    \n   }\n\n  private validateUser() {\n\n    this.utils.clearVariableSesion();\n    this.storage.remove('procesoOTP');\n    this.storage.clear();\n    \n\n    String.prototype.trim = function() { return this.replace(/^\\s+|\\s+$/g, \"\"); };\n\n    var use:string = this.usuario.trim().toUpperCase();\n    var command = 'APPLOGIN'; \n\n   //var wordArray =  CryptoJS.enc.Utf8.parse(this.pass);\n   //var passw = CryptoJS.enc.Base64.stringify(wordArray);\n\n   /*alert (typeof encrypted); \n    alert(\"Contrase単a antes de encriptar \"+this.pass+\"\\n\"+\n          \"Contrase単a encode \"+ passw);*/\n    var userLogin:string = use;\n    var passw = this.utils.encodePass(this.pass); \n    var user = this.utils.encodeUser(userLogin);     \n    //alert(this.lang);\n    \n    \n    //alert(\"Cadena original: '\" + use + \"'\");\n    //alert(\"Sin espacios: '\" + userLogin+ \"'\");\n    var param = command + '&CH=' + this.utils.channel + '&LNG=' + this.lang + '&E2EW=null' + this.utils.separator + 'Login' + this.utils.separator + this.utils.separator + 'E2NCNR01' + this.utils.separator + 'null' + this.utils.separator + this.utils.separator + '&PAR=' + this.utils.company + this.utils.separator + this.utils.separator + user + this.utils.separator + passw;\n    \n    this.http.callServer(param).then(res => {     \n      this.message = res.message;\n      //this.datos = res.Lista1;\n      if (this.message != '' && typeof this.message!==\"undefined\") {\n        this.isBtnEnabled=true;\n        this.utils.alertServidor(this.message);\n                       \n      } else {\n        this.storage.set('user', user);       \n        this.storage.set('sessionId', res.sessionId);\n        this.utils.setSessionId(res.sessionId);   \n        //alert(\"paso1 \"+res.lista1);     \n        this.storage.set('commands', res.lista1 );\n        this.utils.setCommands(res.lista1);\n        this.storage.set('usuario', res.optional1);\n        this.storage.set('fecha', res.optional2);\n        this.navCtrl.push('MenuPage');\n      }\n      \n    },\n      error => {\n        this.isBtnEnabled=true;\n        console.log(error);\n      });\n      \n  }\n\n  //Metodo del alertController para obtener info de los property\n  presentAlert() {\n    var alertTitle;\n    this.translateService.get('Login.alertValidate').subscribe(\n      value => {\n        alertTitle = value;\n      }        \n    )\n    let alert = this.alertCtrl.create({\n      title: this.utils.getMessageLanguage(\"logout.message\"),\n      message: alertTitle, \n      buttons: [ 'OK' ]\n    });\n    alert.present();\n  }\n\n  public equipoFrecuente(){\n    this.navCtrl.push(\"EquipoFrecuentePage\");\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}